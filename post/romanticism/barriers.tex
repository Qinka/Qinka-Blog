
\title{技术壁垒到底挡住了什么}
    
    现在实际上有许许多多的壁垒充斥的我们的世界。贸易壁垒与技术壁垒是两类常见的壁垒。
    并不是所有的壁垒都是好的。壁垒是用来保护的，但是有时则会适得其反。
    这里只会讨论计算机方面的技术壁垒，应为在计算机方面有许多但其石头砸自己脚的例子。
    
    \section{争丢的商标}
    
    上世纪，计算机操作系统领域曾今发生过的 关于 Unix 商标的争夺。以至于 Windows NT 对于对 Unix 的兼容，
    都望而却步。AT\&T 与贝尔实验室 在搭建技术壁垒的时候，却断送了 Unix 与 Unix 的未来。
    
    \subsection{兼容有罪}
    
    在微软开发 Windows NT 的时候，微软的目标是工作站与服务器。做为 Unix 的传统领地。
    如果 微软开发的 Windows NT 与 Unix 是兼容的，或者是在“形式”上兼容，以便方便的将代码移植。
    而且 当时 BSD 针对 Unix 开发的，让 Unix 真正丰满的套件 是开放源代码的。
    尽管我们不能确定，当时微软是否有过想过利用 BSD 套件，但是毋庸置疑的是，如果 Windows NT 
    当初是兼容 Unix，或者是 Unix 类的系统。当下操作系统的世界则将不可能预测。
    
    兼容有罪，在美国的司法历史上不止依次，此外还有 wine 项目中，兼容 Windows 那些东西，就曾经遭到
    调查。
    
    \subsection{Unix 初始}
    Unix 诞生在贝尔实验室的一台 PDP-7 小型机上。在这样的一个年代，计算机“公司”获利的方式基本上是硬件。
    软件共享的概率还是比较大的。应为限制发展的因素很多，应用程序并没有现在这样容易移植。
    Unix 的世界中，一方面 System X 系列做为商业化的产品销售，但是处于共享精神，提供与各大大学研究与使用。
    
    从贝尔实验室 与 AT\&T 在BSD 和 其余大学早期侵犯 版权销售系统时，睁一只眼闭一只眼的情况来看。包括 BSD
    在内的 美国各大高校对 Unix 或者成 System X 的贡献度相当不小。以至于 所谓的真正的版权所有者，宁愿放弃
    追究的权利，也不愿意失去美国各大高校对 Unix 体系的贡献
    \footnote{事实上，Unix的贡献者不局限于美国\cite{taoup.{2012}.{cn}}。}。
    
    而出于各种各样的目的， 贝尔实验室 等没有这只各种各样的壁垒，当然也没有意识到 Unix 真正的商业价值。
    当然真正没有遇见的盈利模式时依赖于服务而非代码本身。
    
    在 Unix 诞生指出，大家对于添砖加瓦的行为，并没有太多的特别的想法。
    并不会纠结于，代码版权的问题。甚至于 Unix 本身则是“三个人头脑风暴了一把”，然后把代码写了出来
    \cite{taoup.{2012}.{cn}}然而，世事难料，没人知道 “几天之后的” Unix 将编程世人所争抢的。
    
    \subsection{Unix 的商业化}
    在 1970年代， Unix 甚至到了随处可见的地步，然而没有什么人在意版权问题\cite{unix-history}。
    但是谁会向导今天，当“盗用”了某个 公司的专有软件，却会被比开发团队还要强大的法务团队，满世界追的跑。
    当然这基本是开玩笑的。但是当人们几乎不在乎这些的时候，贝尔实验室这样的地方开始发掘出来 Unix 潜在商业
    价值。当人们认为 AT\&T在反托拉斯的诉讼下，Unix 会变的向以往一样，开放的时候，人们却发现，有更多的人
    开始发觉 Unix 的价值。
    
    正如淘金热一样，从事 Unix 商业而掘金的公司，变的过了起来。而也如淘金热一般，大家都想将 Unix 商业化，然后能赚的一桶金子，
    并且将金矿占为己有 —— 使自己的的 Unix 的遍独特化。但是谁也没有料到 Unix 的商业化之后， Unix 的大地变的千疮百孔。
    
    就像一群小脚老太太站在庭院门口吵架一样， Unix 的商业化带来利益的同时，也带来了争端。一方面版权问题成了家常便饭。
    另一方面， 各种各样的 Unix 系统对于使用者来说，带来这高昂的价格，与几乎不同用的问题。商业到眼红的 Unix 厂商
    以至于在 2000年之后 还是对着 Linux 系统“内部的”东西宣称着版权，并起诉这。以至于微软在决定支付版权费用，破财消灾之时，
    还会被告上法庭。以要求微软将版权费用交付给真正的版权所有者——原告。
    
    争来争去，Unix不光整丢 Unix 系统的市场份额，连 大型机甚至小型机的市场份额都跟着一起丢失。
    
    \subsection{Unix 的对手}
    在 Unix 大肆商业化的时候，高校坐不住了。 以前说好的 提供给 （美国）高校研究的系统，成了需要高价购买的产品。
    当然，肯定不会有人妥协，于是有了 Minix 的诞生。一个提供教学目的的 Unix 类的免费操作系统。麻雀虽小，五脏俱全。
    这个“里程碑”似的系统加上“里程碑”似的的 Linus，发酵出来了 Linux。

    另一边 基于 Intel 的 80x86 CPU 系列的个人计算机与 微软的 Windows 系列操作系统的迅速占领市场。当 Unix 的世界的老派黑客
    \footnote{不得不提到的一点是：在中国与美国，媒体带着极其富有偏见的心态，将本来是毫无贬义之一的 黑客（hacker）一词 与  骇客（crasher）混为一谈。
    黑客 与 hacker 一词本身指的是，一群有着不烦的创造力的、对计算机只是掌握较深，有着极强动手的计算机研究人员与开发者，而非对利用非法手段，非法对他人计算机进行各类非法行为的人。
    后者那种非法行为的人是被称作 骇客或者 crasher。}
    还在对 8086 这样低劣的处理器与 摩托罗拉 68000 处理器的高雅 评头论足的时候。
    那些似乎会被 Unix 世界黑客所嘲笑的，不了解计算机的，甚至连图形界面都玩不转的群体，却在 低廉的 PC 机与 PC 兼容机 和 Windows 系统的“帮助下”
    开始了现代的计算机之旅，并迅速成为了使用计算机群体中的一大部分人。
    这还不算完，老派黑客们在还没有意识到到底发生了什么的时候，老派黑客引以为傲的 Unix 与 大／小型机，却不再是主流。
    Linux 与 Windows NT 取代了 Unix 之前的大部分市场，Intel 的 80x86 系列的处理器 在发展过程中 派生出种类丰富的、性能优异的但是极其廉价的 微型处理器。
    雨后春笋般出现的小型公司，采用了 以 Intel 的 x86 架构处理器为核心的微型计算机，并搭配中新生而富有活力的 Linux 操作系统，或者强大的 Windows NT 系统。
    众多依赖 Windows 的商业公司，在 Windows 与 Intel 达成某种交易之后，这个市场的份额几乎被 Windows 与 Intel 处理器所垄断。

    \subsection{争端}
    在对 Unix 所有权争论不休，以至于 新型的 Linux 系统与 微软公司 频繁的中枪。甚至于到了明明知道应该缴纳版权费用，却有着数不清的人伸出手来并说着他才是真正的
    合法的收钱的人。当然， Linux 中枪也是意料之中的事情，总是有所谓的 版权所有人来控告 Linux 内部的某个东西侵犯版权。
    尽管 Windows 与 Unix 系统外表来说千差万别，微软还是被要求缴纳某些版权费用。最后，缴纳版权费的微软还是被控告，“原因”是把钱缴纳给了错误的一方。

    Unix 内部的新派黑客，也不断的嚷嚷着、呻吟着、哀嚎着 Unix 的末日即将到来。许多 Unix 中有着“名人”，转向 GNU 与 Linux 一方，继续着曾经的梦想。
    
    \subsection{尾声}
    在 Unix 的商标 最后的所有者成为 OpenGroup， 操作系统端 Linux 与 Windows 几乎瓜分天下。而大型机的市场，在 廉价的 PC 机的冲击下，变得没有什么优势。
    而 正如 Linus 所说：“Software is like sex -- it's better when it's free.” 而且可能 包括在 Unix 老派黑客在内的很多人，根本没有
    想到如今 微软会在 GitHub 有一个组织账号\href{https://github.com/microsoft}{github.com/Microsoft} 然后里面会有着众多来自 Windows
    平台，开源、高效，同时被移植到各种 平台的 工具，软件，框架\footnote{其中比较重要的例子（笔者认为）有
      \href{https://github.com/microsoft/powershell}{PowerShell}，\href{https://github.com/microsoft/vscode}{visual studio code}，
      与最重要的\href{https://github.com/microsoft/??}{.Net Core}}。
    
    令人惋惜的是， Unix 世界的“震荡”带来了其他的诸多的问题，比如降低了世界的软件开发过程中的质量，但是也为像 Linux 这样的东西提供了机会。
    或许老话说的好：旧的不去，新的不来。永恒不变的只有变化。

    \section{哲学}
    万物终将归结于哲学？我不做评论。但是方法论是关键的。上古的哲学家们\footnote{请原谅我这样用词，半开玩笑的。}总结出来的一些哲学，其中
    很多都是用来规避壁垒的。比如 Linus 说过的：“Software is like sex -- it's better when it's free.”\footnote{这句话的大致的含义是：软件应该想性
    那样自由。虽然笔者对此有些不同的想法——自由应该是法式的那种来自美的自由。但是不得不说，总结的真不错。} 这句话阻挡掉了许多壁垒，其中包含着 让
    Unix 奄奄一息的那种壁垒。

    不得不说，Linus 这这句话一语中的的指出了计算机软件尤其是基础软件，比如操作系统，在计算机普及之后，（从某种意义上说），计算机软件如同
    性。我们抛开道德层面，做为对人权的尊重，性这样的有些敏感的内容本身来说，算是人权最基本的东西。在现在来看，计算机软件，尤其是基础软件
    对于一个计算机来说，对于一个人来说，在某种意义上是一种基本权利，正如吃饭睡觉一样。假设当睡觉这样的行为存在版权一样的限制的时候，
    以至于说我们睡觉的时候，还要按照时间缴纳类似于版权费一样的东西时，这样人类的世界是无法想象的。
    当有人质疑的时候，我只能说，我们需要奉献精神。
    
    \subsection{壁垒：文档}
    有一句老话说得好\footnote{可能这句话并没有太长的年限，但是相对软件行业高速的变化，虽然没有前端社区那样——明天的已经是过时的，但是还是相对还是，
        十年前，已经算是远古了。}
    ：六个月后的你将不再是你。当然，这是对于极其极端的状态，只有一个人维护一个项目。但是对于一个人维护的项目来说，尚且会面临，几个月后
    你不再是你然后忘记掉关于这个项目的一些（所以我们需要文档），对于一个多人参与，有一定复杂度的项目，这个叫“文档”的东西也是相当重要的。
    可是，文档真的是万能的么？我先不去引用一句我十分认可的名言，先去引用另一个：“不可能通过增加人手来解决软件开发延期的问题。”
    \footnote{这个应该算作是 Brooks 定律。事实上是一种简化的版本。在《人月神话》 一书中，好像也是这样的简化的。}
    当然会有人问“为什么”。这个问题的答案的一部分就是我想表达的另一半的观点。我们不能通过增加人手解决软件开发延期的问题在于，
    我们的软件项目在开发期间，新增的开发人员在开发（我们应该称之为发动机做功）之前，需要熟悉这个项目与项目组（我们可以称之为发动机启动），
    即便采取是开源项目那样来去自由的。但是这个时间成本有时是比较高的，而且不是容易的，对于即将面临延期的项目更是如此。
    造成这样高成本的问题之一是：文档。

    我先在可以引用之前打算引用的一个名言，一个十分激进的名言：“I've never met a human being whoe would want to read 17,000 pages of documentation, 
    and if there was, .”
    说实话，文档很多时候好是算作解除代码壁垒的重要方式之一（我后面会提到），但是有时候过分的文档
    \footnote{这往往是低效率的开发与糟糕的开发方法所伴随的，有时则是面对一些不合理的要求，利于 $80\%$ 的注释率。}
    却会适得其反。我们一般认为，让别人认为自己的智商收到侮辱的方式有两种。一种是向其展示难以理解的代码并表现的这个代码十分简单。另一种方式就是
    把一些解释的都十分简单，表现出来一种受众都是一无所知的那种人。代码中存在的壁垒明显属于前一种。而那些对文档过分要求的项目，恐怕就是后一种了。
    
    Eric S. Raymond 在《大教堂与集市》一书中曾感叹道， Linux 开发中 Linus 采用了传统软件工程所无法想象的方式开发了一个操作系统。
    Linus 在如旅馆一样，来去自如的状态下，有效的组织了许许多多的黑客参与了 Linux 的开发。然而再次我们并不想讨论这样的开发模式，应为不是要讨论的内容，
    而只是想再次处向 Linus、Eric S. Raymond 以及其他众多伟大的黑客致敬
    \footnote{使用 黑客一词来致敬 Eric S. Raymond，主要是一方面阅读了 《Unix 编程艺术》（一本彻头彻尾的哲学书）后向伟大的黑客与黑客文化传播者 Eric S. Raymond
    致敬。而本文中使用黑客一词也事实上，想传达一种想法（之一）对于为世界贡献了许多开放自由的代码与程序的广大黑客致敬。最后使用黑客一词去描述自己，也是希望自己能够更
    符合这样的一个伟大的词。}
    或者使用一个更时髦的词，让我们膜\footnote{orz}一下。
    但是在 Linux 开发中我们可以确保的是 Linux 文档中并没有过多的文档与注释。好的代码相当于注释\cite{TAoRC.{2012}.{cn}}，这是 《编写可读代码的艺术》一书中的重要的思想。
    当然这也是每个程序员应该明白与遵循的，无论他们是否要写文档。

    这一部分的标题是“文档”，一方面我们需要承认的是文档并不是越少越好，而在于适度。这也正是这一部分的标题不定为“不写文档”。另一方面，凡事都有例外，必需承认的是
    有许多方面的软件开发，我们不能遵循像XP\footnote{Extreme Programming,极限编程}或者说像 Linux 一天之内能发布几十次 “release”。例如战机中的程序，
    不能说我写完了，就弄到飞机上，然后飞机起飞后，出 BUG 了，或者编程人员自己发现有 BUG 了，然后修改、再发布。这样干，我估计没有人能受得了，当然也不会有人能承担的起这样的责任与后果。
    
    \subsection{壁垒： 代码}
    很多时候，设置壁垒有一个十分简单的方法，就像之前提到的方法一样。我们简单的设置代码方面的壁垒就好了。我摘抄一部分《编写可读代码的艺术》
    \begin{lstlisting}[caption=不容易阅读的代码,language=C++]
 return exponent >= 0 ? mantissa * (1 << exponent) : mantissa / (1 << -exponent);
    \end{lstlisting}

    \begin{lstlisting}[caption=容易阅读的代码,language=C++]
 if (exponent >= 0) {
   return mantissa * (1 << exponent);
 } else {
   return mantissa / (1 << -exponent);
 }
    \end{lstlisting}
    事实上，在《编写可读代码中》 并没有评价那一个更以阅读。而是仅仅指出了第一个版本更加紧凑，第二个版本更加直白。
    但是在这里我还是个他们加上了标签了，一个“容易阅读”与一个“不容易阅读”。因为后者能让不懂得 C/C++ 以及其他类似有 三元运算符 “？：” 的人更加容易的阅读出来——这里有个分支语句，
    大家都看得懂 文字。

    很多时候大家会得益于构建了一个极其精巧的表达式或者代码片段，然后想那些看不懂或者一时无法弄明白的人炫耀。然而老话说的好，6个月后的自己不再是当初的自己。没有人能保证
    自己6个月之后，能看得懂自己当初够早的精巧的代码。说不定在向别人炫耀的时候，就会忘掉。
    数学家使用数学公式交流，而哲学家交流的是哲学。黑客之间或者类似但也有不同，黑客之间有时会直接使用 代码 交流。当交流出现障碍时，信息沟通不畅时，代码则变成了壁垒。
    
    \subsection{版权}

    不得不承认，版权无疑是最大的壁垒，堑壕，障碍，城墙，等等。在之前 UNIX 商标争战的是时候， 微软就曾经因为使用的代码中版权有争议，而在选择了支付版权之后，却被另一家公司起诉。
    原因是向错误的一方支付了版权。

    总所周知，版权的所有者不一定是作者，但是使用了有版权的一定要缴纳版权费用。这是毋庸置疑的，但是也是理所应当的。
    然而，我还是会大胆的预测版权的消亡，虽然说这里的消亡到不真的是没有，而是应该变得不重要——就像没有一样。 Eric S. Raymond 在《Unix 编程艺术》一书中指出\cite{taoup.{2012}.{cn}}
    对于开源软件来说，版权的归属已经不是十分重要，很多情况下是直接“给”了开源基金会什么的。而真正重要的是则是开源协议。一方面，开源软件的贡献者将会是来自于全球各地。
    另一方面，没有版权费用的问题。在闭源软件消亡之前，开源软件的版权的最大的作用就是防止被“疯狗”咬伤。当然这也是很多人为什么会将版权贡献给社区或者基金组织。
    
    对于闭源软件，我也会大胆的预测会消亡。虽然很多开源社区中，包括一些大牛级别的任务，大家都会认为：和写那一万七千行文档人一样，那些认为闭源是万恶之源的人，也不应该存在与世界上。
    这句话没错，但是曾有一针见血的指出：核心在服务。什么核心在服务？那就是软件，换句话说，盈利的不是软件本身，而是它带来的服务。
    这也是通常将软件产业算作第三产业的缘故，而不是说因为码农的身份算作第一产业，或者以工业品的身份被算作第二产业。
    而软件的源码出于封闭状态出了能保护一部分的所谓的知识产权与短暂的一己之私之外
    \footnote{这里一般不考虑特殊领域，比如核发射系统中的软件}
    没有带来什么好处。而开源的软件则相对来说，更有价值。一方面，开源的软件的代码是像全世界开放的，软件构造的好与坏
    一目了然。而其中所具有的漏洞与后台，也自然会被人们看见。然后开放源代码，意味着移植更加容易。对于闭源软件来说，
    代码在少数人手里掌握着，一直到怎样的平台，也有他们说了算。最后带有商业利益或者歧视那些人总不会满足人们的需要。
    而开源软件的相对随意性，更能激发使用的对软件的贡献，不仅是在移植方面。而开源软件的相对开放度，使得
    软件一天发布的次数可以大幅度增加，例如曾经 Linus 一天之内发布 Linux 的新版本的次数多达十几次\cite{TCnTB.{2014}.{cn}}
    而一般的、传统的、闭源的的软件项目几乎不能做到这样一点，因为阻挡这一行为的壁垒几乎包含了文档，代码，与版权协议等
    各种壁垒。而由于那样的受众与测试者的特点，用户很难接受这样频率的变化。但是从 Eric S. Raymond 的开发
    \textbf{fetchemail(1)} 的经历来说\footnote{这个是 Eric S. Raymond 在接手\textbf{popemail(1)} 项目之后，实践 Linus 在开发 Linux 中的一些方法中的经历，在实践这样的方法是，这个程序已经重新命名为 “fetchemail”。}\cite{TCnTB.{2014}.{cn}}，
    将相对关心这一项目，用户群体设置为 一类特殊的人群，用于新功能测试，当然源码发行。
    啰嗦了这么多，重点是在与版权的壁垒，导致的一系列的不同。至于大教堂与集市的区别，笔者还是认为，去仔细阅读并深刻体会
    伟大的黑客与开元文化传播者 Eric S. Raymond 的《大教堂与集市》 一书。
    
    % 临时部分
    \subsection{其他壁垒}
    由于某些原因，无法写的太多，壁垒的种类还是有不少，其中就包括开发的姿势。大教堂与集市的区别，其中不少一部分都在于
    构建的种种的壁垒，者中壁垒是从开发者到公司组曾构建，我想如果详细讲下去或许可以出一本书了。而笔者本人有与个人经历的缘故
    对于这写壁垒，也仅仅是从众多的软件开发与软件工程的书籍，资料，文献，历史等内容来讨论。甚至有些内容会出自于
    一些或有所考证或凭空而来的笑话，故事，甚至以个人的遐想。但是世界之大，无法保证“不真实性”，所以这些内容如有雷同，
    仅属巧合。
    
    %临时部分
    \section{未完成的}
    这一部分称之为未完成的，原因之一是由于收到作业收缴的截止日期的限制，未能写完所有的想内容，这个文章会继续写下去，然后
    放到自己的博客上面。然后原因之二是即便完成的版本也会有这样的一个标题，革命尚未成功，同志任需努力。
    文中也一定会有一些错误，受制于笔者的水平。
    
    对于还想说的部分，壁垒的种类还是有不少。另一方面，想表达的内容中有“如何在/利用集市，避免壁垒”这一类的内容。
    还希望通过 macOS 与 Linux 的对比的例子，分析开源与闭源结合更有效的躲避壁垒与陷阱，同时分析 Linux 的“过度开源”的
    好处与坏处。最后希望讨论一些 微软现在的战略，微软倾向于开源的行为与目前开发中存在的问题，以 WSL\footnote{Windows Subsystem for Linux} 中 缺失 “time\_create"系统调用 这一 BUG 的前前后后。
    
    
    
    
    

    \begin{thebibliography}{0}
        \bibitem{taoup.{2012}.{cn}}《Unix编程艺术》，【美】 Eric\space S.\space Raymond 著,姜宏，何源，蔡晓俊\space 译，电子工业出版社，2012，北京。
        \bibitem{unix-history} History\space and \space Timeline, The\space Open\space GROUP,
          \href{http://www.unix.org/what_is_unix/history_timeline.html}{www.unix.org/what\_is\_unix/history\_timeline}.
        \bibitem{TAoRC.{2012}.{cn}} 《编写可读代码的艺术》，Dustin\space Boswell\&Trevor\space Foucher 著，尹哲，郑秀雯\space 译，机械工业出版社，2012，北京。
        \bibitem{TCnTB.{2014}.{cn}} 《大教堂与集市》，【美】雷蒙德(Eric\space S.\space Raymond)著，卫剑钒\space 译，机械工业出版社，2014北京。
    \end{thebibliography}
        
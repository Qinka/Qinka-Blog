# Git 使用规范

## Commit 规范

Git 的 commit 是代码变更的重要单元。 Git 通过记录每一次代码的变更跟踪代码。
这一节内容是有关于 Git 的 commit 的规范

### Commit 消息规范

每一次提交（Commit）应该包含对于变更内容的说明。
说明格式应该包括一行的总结与多行的详细说明。

```
[TYPES] [SUMMARY]
[EMPTY LINE]
[DETAILS]
```

`[TYPES]` 应该包含本次提交的内容的目的。一般来说有如下目的：

* 针对项目中一个需求、用户故事、用户卡片、文档中规定的功能 的代码变更。
`[TYPES]` 中可以有 "DEMAND-xxx"、"STORY-xxx"、"CARD-xxx"、"FEATURE-xxx"，
其中 “xxx” 是对应的项目的编号。这个编号应该与敏捷开发管理软件或者文档中的相关内容一致。
* 对于更新代码的目的，例如修复 BUG、更新配置文件、添加代码等
`[TYPES]` 中应该有诸如 "update"、"add"、"delete"、"fix"、"fixed"等。

`[SUMMARY]` 则应该包含对变更内容的简单的说明，内容主要由名词组成。

`[DETAILS]` 中应该注明修改了那些文件，与修改的具体目的或者意义。逐条详细列出代码变更相关的内容。

`[EMPTY LINE]` 则是一行空行，一般用于分割详细内容与简要内容。

下面是一个简单的实例，
```
update card-10238992 完成 UART4 代码

1. UART4 的配置已经修改为宏定义，可随时调整配置。修改 src/hardware/uart4.c 与 include/hardware/uart4.h
2. 利用 UART4 口进行调试的代码已经完成。 src/debug.c 已经修改。
```

### Commit 内容规范

Git 提交的内容规范从提交内容变更大小，提交时间，修改的内容出发。
提交的内容经可能详细，但是不应该过细。对于一个基本的功能的相关代码可以提交一次，每次提交应该及时推送到主服务器中。

Git 每一次提交的内容不应该跨越一天，每一天修改的代码应该及时提交。如果发生当天代码无法全部完成时，应该试图分割提交内容。或者再提交信息中填写 "checkpoint" 这样的内容，然后再第二天的提交中使用 `--amend` 追加内容。

修改的内容要和分支对应。不应该再当前的提交中提交与当前分支不想关的内容。对于所有分支均会涉及到的内容，需要在这些分支的“基础分支”修改之后然后合并到各个分支。

### Commit 提交人规范

每一个提交的“署名”人需要留有自己的名字与邮箱。提交必须使用 GnuPG 进行有效的签名。

## .gitignore 文件规范

.gitignore 文件

## 分支使用规范

### 分支命名于内容规范

### 合并规范

## Git 钩子规范与自动化工具

## Git 仓库内容规范

## Git 子模块规范

## Git Tag 规范
